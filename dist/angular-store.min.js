(function(){"use strict";angular.module("store.fileSystem.restangular",["restangular"]).factory("FileSystemAdapterRestangular",function(a){return a.withConfig(function(a){return a.setBaseUrl("http://localhost:9000/filesystem"),a.setRequestSuffix(".json"),a.setDefaultHttpFields({cache:!0}),a.setResponseExtractor(function(a,b,c){var d,e;return d=a||{},"getList"===b&&a&&a[c]&&(d=a[c]),"get"===b&&(e=pluralize(c,1),a&&a[e]&&(d=a[e])),d})})})}).call(this),function(){"use strict";angular.module("store.fileSystem",["store.fileSystem.core","store.fileSystem.restangular"]),angular.module("store.fileSystem.core",["store.fileSystem.restangular","store.core.sanitizeRestangularOne"]).factory("FileSystemAdapter",function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o;return g=function(){return a.$emit("store.file_system.not_found"),"not_found"},j=function(a,c){var d;return d=b.defer(),c?e.all(pluralize(a)).all(c).getList().then(function(a){return d.resolve(a)},function(a){return d.reject(g(a))}):e.all(pluralize(a)).getList().then(function(a){return d.resolve(a)},function(a){return d.reject(g(a))}),d.promise},n=function(a,c){var d;return d=b.defer(),e.all(pluralize(a)).getList().then(function(a){return a=_.filter(a,c),a?d.resolve(a):d.reject("not_found")},function(a){return d.reject(g(a))}),d.promise},l=function(a,c){var d,f;return d=b.defer(),f=null,e.all(pluralize(a)).getList().then(function(b){return f=_.find(b,{id:c}),f?o(f,a).then(function(a){return d.resolve(a)}):d.reject("not_found")},function(a){return d.reject(g(a))}),d.promise},m=function(a,d){var f,h,i;return h=_.str.classify(a)+"Model",f=b.defer(),i=[],e.all(pluralize(a)).getList().then(function(b){var e;return b=_.where(b,function(a){return _.contains(d,a.id)}),c.has(h)&&(e=c.get(h),b=_.map(b,function(b){return new e(b,a)})),f.resolve(b)},function(a){return f.reject(g(a))}),f.promise},o=function(a){var c,e,f,g;c=b.defer(),f={};for(g in d(a))_.include(g,"_ids")&&(e=pluralize(g.replace("_ids","")),f[e]=m(g.replace("_ids",""),a[g]));return b.all(f).then(function(b){var d;for(d in b)a[d]=b[d];return c.resolve(a)}),c.promise},k=function(a,c,d){var f;return f=b.defer(),e.all(pluralize(a)).getList().then(function(a){var b;return b=d instanceof Array?_.find(a,function(a){return _.isEqual(a[c],d)}):_.find(a,function(a){return a[c]===d}),b?f.resolve(b):f.reject("not_found")},function(a){return f.reject(g(a))}),f.promise},h=function(a,b){return console.log("createRecord",a,b)},i=function(a,b){return console.log("deleteRecord",a,b)},f=function(){function a(){}return a.prototype.findAll=function(a,b){return j(a,b)},a.prototype.findQuery=function(a,b){return n(a,b)},a.prototype.findByIds=function(a,b){return m(a,b)},a.prototype.findById=function(a,b){return l(a,b)},a.prototype.findBy=function(a,b,c){return k(a,b,c)},a.prototype.createRecord=function(a,b){return h(a,b)},a.prototype.deleteRecord=function(a,b){return i(a,b)},a}()})}.call(this),function(){"use strict";angular.module("store.localForage",["store.core","LocalForageModule"]).config(function(a){return a.config({name:"archeage_tools",storeName:"archeage_tools"})}).factory("LocalForageAdapter",function(a,b){var c,d,e,f,g,h,i,j,k;return f=function(a){return b.getItem(a)},j=function(c,d){var e;return e=a.defer(),b.getItem(c).then(function(a){var b;return b=_.filter(a,d),b?e.resolve(b):e.reject("not_found")}),e.promise},i=function(b,c){var d,e;return d=a.defer(),e=[],_.each(c,function(a){return e.push(h(b,a))}),a.all(e).then(function(a){return d.resolve(a)}),d.promise},g=function(c,d){var e;return e=a.defer(),b.getItem(c).then(function(a){var b;return b=_.find(a,d),b?e.resolve(b):e.reject("not_found")}),e.promise},h=function(c,d){var e;return e=a.defer(),b.getItem(c).then(function(a){var b;return b=_.find(a,{id:d}),b?e.resolve(b):e.reject("not_found")}),e.promise},d=function(c,d){var e;return e=a.defer(),b.getItem(c).then(function(a){var f;return a||(a=[]),f=a[a.length-1],d.id=f?f.id+1:1,a.push(d),b.setItem(c,a).then(function(){return e.resolve(d)})}),e.promise},e=function(c,d){var e;return e=a.defer(),b.getItem(c).then(function(a){var f;return f=_.filter(a,function(a){return a.id!==d.id}),b.setItem(c,f).then(function(){return e.resolve()})}),e.promise},k=function(c,e){var f;return f=a.defer(),e.id?(b.getItem(c).then(function(a){return a=_.map(a,function(a){return a.id===e.id?e:a}),b.setItem(c,a).then(function(){return f.resolve(e)})}),f.promise):d(c,e)},c=function(){function a(){}return a.prototype.findAll=function(a){return f(a)},a.prototype.findQuery=function(a,b){return j(a,b)},a.prototype.findByIds=function(a,b){return i(a,b)},a.prototype.findById=function(a,b){return h(a,b)},a.prototype.findBy=function(a,b){return g(a,b)},a.prototype.createRecord=function(a,b){return d(a,b)},a.prototype.deleteRecord=function(a,b){return e(a,b)},a.prototype.saveRecord=function(a,b){return k(a,b)},a}()})}.call(this),function(){"use strict";angular.module("store.rest.restangular",["restangular"]).factory("RESTAdapterRestangular",function(a){return a.withConfig(function(a){return a.setBaseUrl("http://localhost:3000"),a.setDefaultHttpFields({cache:!0}),a.setResponseExtractor(function(a,b,c,d,e){var f,g;return f=a||{},"getList"===b&&a&&a[c]&&(f=a[c]),"get"===b&&(g=pluralize(c,1),a&&a[g]&&(f=a[g])),f.originalResponse=e.data,f})})})}.call(this),function(){"use strict";angular.module("store.rest",["store.rest.core","store.rest.restangular"]),angular.module("store.rest.core",["store.rest.restangular","store.core.sanitizeRestangularOne"]).factory("RESTAdapter",function(a,b,c,d){var e,f,g,h,i,j,k;return h=function(a,b){return b?c.all(pluralize(a)).all(b).getList():c.all(pluralize(a)).getList()},j=function(a,b){return c.all(pluralize(a)).getList(b)},k=function(c){var e,f,g,h,i,j,k,l;e=b.defer(),i={};for(j in d(c))_.include(j,"_ids")&&c.originalResponse&&(l=j.replace("_ids",""),h=pluralize(l),c.originalResponse[h]&&(g=_.str.classify(l)+"Model",a.has(g)&&(f=a.get(g),k=_.map(c.originalResponse[h],function(a){return new f(a,l)}),c[h]=k)));return e.resolve(c),e.promise},i=function(a,d){var e;return e=b.defer(),c.one(pluralize(a),d).get().then(function(b){return b?k(b,a).then(function(a){return e.resolve(a)}):e.reject("not_found")}),e.promise},f=function(a,b){return console.error("createRecord",a,b)},g=function(a,b){return console.error("deleteRecord",a,b)},e=function(){function a(){}return a.prototype.findAll=function(a,b){return h(a,b)},a.prototype.findByIds=function(a,b){return findByIds(a,b)},a.prototype.findById=function(a,b){return i(a,b)},a.prototype.findQuery=function(a,b){return j(a,b)},a.prototype.createRecord=function(a,b){return f(a,b)},a.prototype.deleteRecord=function(a,b){return g(a,b)},a}()})}.call(this),function(){"use strict";angular.module("store.core.sanitizeRestangularOne",[]).factory("sanitizeRestangularOne",function(){return function(a){return _.omit(a,"route","parentResource","getList","get","post","put","remove","head","trace","options","patch","$then","$resolved","restangularCollection","customOperation","customGET","customPOST","customPUT","customDELETE","customGETLIST","$getList","$resolved","restangularCollection","one","all","doGET","doPOST","doPUT","doDELETE","doGETLIST","addRestangularMethod","getRestangularUrl","several","getRequestedUrl","clone","reqParams","withHttpConfig","oneUrl","allUrl","getParentList","save","fromServer","plain","singleOne")}})}.call(this),function(){"use strict";angular.module("store",["store.core","store.localForage","store.rest","store.fileSystem"]),angular.module("store.core",[]).provider("Store",function(){var a,b;a={adapterName:"RESTAdapter"},b=function(c,d,e){var f,g,h;return f=null,c.has(e.adapterName)||console.error("invalid_adapter"),g=c.get(e.adapterName),f=new g,h={},h.withConfig=function(e){var f;return f=angular.copy(_.extend(a,e)),b(c,d,f)},h["new"]=function(a,b){var e,f,g;return e=d.defer(),g=_.str.classify(a)+"Model",c.has(g)?(f=c.get(g),e.resolve(new f(b,a))):(console.error("Invalid model",g),e.reject("invalid_model")),e.promise},h.getAdapter=function(){return f},h.find=function(a,b){return"string"!=typeof b||b.match(/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}/)?1===arguments.length?this.findAll(a):"object"==typeof b?this.findQuery(a,b):(b=parseInt(b,10)||b,this.findById(a,b)):this.findAll(a,b)},h.findAll=function(a,b){var e,g,h;return e=d.defer(),h=_.str.classify(a)+"Model",c.has(h)?(g=c.get(h),f.findAll(a,b).then(function(b){return b=_.map(b,function(b){return new g(b,a)}),e.resolve(b)},function(a){return e.reject(a)})):(console.error("Invalid model",h),e.reject("invalid_model")),e.promise},h.findQuery=function(a,b){var e,g,h;return e=d.defer(),h=_.str.classify(a)+"Model",c.has(h)?(g=c.get(h),f.findQuery(a,b).then(function(b){return b=_.map(b,function(b){return new g(b,a)}),e.resolve(b)})):(console.error("Invalid model",h),e.reject("invalid_model")),e.promise},h.findByIds=function(a,b){var e,g,h;return b||console.error("ids parameter required"),h=_.str.classify(a)+"Model",c.has(h)?(g=c.get(h),e=d.defer(),f.findByIds(a,b).then(function(b){return b=_.map(b,function(b){return new g(b,a)}),e.resolve(b)},function(a){return e.reject(a)})):(console.error("Invalid model",h),e.reject("invalid_model")),e.promise},h.findBy=function(a,b,e){var g;return g=d.defer(),f.findBy(a,b,e).then(function(b){var d,e;return e=_.str.classify(a)+"Model",c.has(e)?(d=c.get(e),b=new d(b,a),g.resolve(b)):(console.error("Invalid model",e),g.reject("invalid_model"))},function(a){return g.reject(a)}),g.promise},h.findById=function(a,b){var e;return b||console.error("id parameter required"),e=d.defer(),f.findById(a,b).then(function(b){var d,f;return f=_.str.classify(a)+"Model",c.has(f)?(d=c.get(f),b=new d(b,a),e.resolve(b)):(console.error("Invalid model",f),e.reject("invalid_model"))},function(a){return e.reject(a)}),e.promise},h.createRecord=function(a,b){return f.createRecord(a,b)},h.deleteRecord=function(a,b){return f.deleteRecord(a,b)},h.saveRecord=function(a){var b,c;return b=a.constructor.name,b=b.replace("Model",""),c=_.str.underscored(b),f.saveRecord(c,a)},h},this.$get=function(c,d){return b(c,d,a)}})}.call(this);